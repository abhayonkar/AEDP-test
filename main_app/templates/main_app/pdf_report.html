<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AEDP Report for {{ user_data.username }}</title>
    <style>
        @page { size: A4 landscape; margin: 1cm; }
        body { font-family: sans-serif; color: #333; font-size: 10pt; }
        h1 { color: #1f3c72; text-align: center; border-bottom: 2px solid #1f3c72; padding-bottom: 10px; }
        h2 { color: #1f3c72; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-top: 20px; page-break-before: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 5px; text-align: left; word-wrap: break-word; }
        th { background-color: #1f3c72; color: white; font-size: 9pt; }
        .section { page-break-inside: avoid; }
        .no-data { color: #888; font-style: italic; }
        .header-info { text-align: center; margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>AEDP Implementation Status & Way Forward</h1>
    <div class="header-info">
        <h3>Report for: {{ user_data.get_full_name|default:user_data.username }}</h3>
        {% if basic_info %}
            <p><strong>University:</strong> {{ basic_info.university_name }} | <strong>PVC:</strong> {{ basic_info.pvc_name }} | <strong>Date:</strong> {{ basic_info.report_date|date:"F j, Y" }} | <strong>Academic Year:</strong> {{ basic_info.academic_year }}</p>
        {% endif %}
    </div>

    <div class="section">
        <h2>Industry Engagement & MoUs</h2>
        {% if industry_data %}
            <table><thead><tr><th>Industry Name</th><th>Sector</th><th>MoU</th><th>Engagement</th><th>Contact</th><th>Location</th><th>Programme</th><th>Other Details</th></tr></thead>
            <tbody>{% for item in industry_data %}<tr><td>{{ item.industry_name }}</td><td>{{ item.sector_name }}</td><td>{{ item.mou_signed }}</td><td>{{ item.type_of_engagement }}</td><td>{{ item.contact_person|linebreaksbr }}</td><td>{{ item.location }}</td><td>{{ item.aedp_programme }}</td><td>{{ item.other_details|linebreaksbr }}</td></tr>{% endfor %}</tbody></table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>

    <div class="section">
        <h2>Sector Skill Council (SSC) Engagement & MoU</h2>
        {% if ssc_data %}
            <table><thead><tr><th>SSC Name</th><th>Sector</th><th>MoU</th><th>Programme</th><th>Engagement</th><th>Contact</th><th>Remarks</th></tr></thead>
            <tbody>{% for item in ssc_data %}<tr><td>{{ item.ssc_name }}</td><td>{{ item.sector_name }}</td><td>{{ item.mou_signed }}</td><td>{{ item.aedp_programme }}</td><td>{{ item.type_of_engagement|linebreaksbr }}</td><td>{{ item.contact_person|linebreaksbr }}</td><td>{{ item.remarks|linebreaksbr }}</td></tr>{% endfor %}</tbody></table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>
    
    <div class="section">
        <h2>BOAT Collaboration</h2>
        {% if boat_data %}
            <table><thead><tr><th>Campus/College</th><th>MoU Signed</th><th>AEDP Programme</th><th>Other Information</th></tr></thead>
            <tbody>{% for item in boat_data %}<tr><td>{{ item.campus_college_name }}</td><td>{{ item.mou_signed }}</td><td>{{ item.aedp_programme }}</td><td>{{ item.other_information|linebreaksbr }}</td></tr>{% endfor %}</tbody></table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>

    <div class="section">
        <h2>Implementation Progress of Selected AEDP Program</h2>
        {% if program_data %}
            <table><thead><tr><th>Program Name</th><th>Component</th><th>Status</th><th>Timeline</th><th>Remarks</th></tr></thead>
            <tbody>{% for item in program_data %}<tr><td>{{ item.program_name }}</td><td>{{ item.component }}</td><td>{{ item.status }}</td><td>{{ item.timeline }}</td><td>{{ item.remarks|linebreaksbr }}</td></tr>{% endfor %}</tbody></table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>

    <div class="section">
        <h2>AEDP Program Readiness: University Campus & College Details</h2>
        {% if campus_data %}
            <table><thead><tr><th>Campus/College</th><th>Programme</th><th>Curriculum</th><th>Continued</th><th>Converted</th><th>Faculty</th><th>Duration</th><th>Apprenticeship</th><th>Intake</th><th>Partners</th></tr></thead>
            <tbody>{% for item in campus_data %}<tr><td>{{ item.campus_college_name }}</td><td>{{ item.aedp_programme }}</td><td>{{ item.curriculum_type|linebreaksbr }}</td><td>{{ item.same_aedp_continued }}</td><td>{{ item.existing_degree_converted }}</td><td>{{ item.faculty_department }}</td><td>{{ item.duration }}</td><td>{{ item.apprenticeship_integration|linebreaksbr }}</td><td>{{ item.student_intake }}</td><td>{{ item.industry_partners|linebreaksbr }}</td></tr>{% endfor %}</tbody></table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>

    <div class="section">
        <h2>Outreach & Stakeholder Engagement</h2>
        {% if outreach_data %}
            <table>
                <tr><th>Nodal Officer Orientation</th><td>{{ outreach_data.nodal_officer_orientation }}</td></tr>
                <tr><th>Faculty Workshops</th><td>{{ outreach_data.faculty_workshops }}</td></tr>
                <tr><th>Industry/SSC Workshops</th><td>{{ outreach_data.industry_workshops }}</td></tr>
                <tr><th>District Outreach Programs</th><td>{{ outreach_data.district_outreach_programs }}</td></tr>
                <tr><th>Parent/Stakeholder Orientation</th><td>{{ outreach_data.parent_orientation }}</td></tr>
                <tr><th>Autonomous Colleges Onboarded</th><td>{{ outreach_data.autonomous_colleges_onboarded }}</td></tr>
            </table>
        {% else %}<p class="no-data">No data available.</p>{% endif %}
    </div>

    <div class="section">
        <h2>Challenges & Risk Mitigation Strategy</h2>
        <p>{{ challenges.content|linebreaksbr|default:"No challenges specified." }}</p>
    </div>

    <div class="section">
        <h2>Timelines</h2>
        {% if timelines %}
            <table>
                <tr><th>Finalize Curriculum</th><td>{{ timelines.curriculum_finalization }}</td></tr>
                <tr><th>Execute MoUs</th><td>{{ timelines.mou_execution }}</td></tr>
                <tr><th>Internal Approvals</th><td>{{ timelines.internal_approvals }}</td></tr>
                <tr><th>Faculty Orientation</th><td>{{ timelines.faculty_orientation }}</td></tr>
                <tr><th>Launch Admission Campaign</th><td>{{ timelines.admission_campaign_launch }}</td></tr>
                <tr><th>Begin Student Enrollment</th><td>{{ timelines.student_enrollment_begin }}</td></tr>
                <tr><th>Program Commencement</th><td>{{ timelines.program_commencement }}</td></tr>
                <tr><th>Monthly Progress Reporting</th><td>{{ timelines.monthly_progress_reporting }}</td></tr>
            </table>
        {% else %}<p class="no-data">No timeline data available.</p>{% endif %}
    </div>
</body>
</html>
